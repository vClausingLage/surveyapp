(this.webpackJsonpsurveyapp=this.webpackJsonpsurveyapp||[]).push([[0],{202:function(e,t,n){},354:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n(90),s=n.n(r),i=n(23),j=(n(202),n(17)),l=function(){return Object(c.jsx)(a.Fragment,{children:Object(c.jsxs)("div",{className:"centered",children:[Object(c.jsx)("p",{children:"Erstellen Sie mit dieser App Ihre Umfrage und werten Sie sie aus."}),Object(c.jsx)("button",{style:{},children:Object(c.jsx)(i.b,{to:"/umfrage/erstellen",style:{textDecoration:"none",color:"white",fontSize:"1.5rem"},children:"Los geht's!"})})]})})},u=function(){return Object(c.jsx)(a.Fragment,{children:Object(c.jsx)("div",{className:"panel",children:Object(c.jsx)("p",{children:"\xa9 2021 clausing-lage"})})})},b=n(66),o=n(11),d=n(31),h=n.n(d),O=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),j=i[0],l=i[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),O=d[0],f=d[1],x=Object(a.useState)([]),m=Object(o.a)(x,2),p=m[0],g=m[1],v=Object(a.useState)([]),N=Object(o.a)(v,2),S=N[0],y=N[1],k=Object(a.useState)([]),w=Object(o.a)(k,2),F=w[0],C=w[1];var I=function(){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Frage"}),p.map((function(e){return Object(c.jsx)("th",{children:e},p.indexOf(e))}))]})};return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsxs)("div",{className:"",style:{marginBottom:"6rem"},children:[Object(c.jsx)("h1",{children:"Umfrage erstellen"}),Object(c.jsxs)("div",{className:"grid",children:[Object(c.jsxs)("div",{className:"grid-item",children:[Object(c.jsx)("h2",{children:"Eingabe"}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(c.jsx)("label",{children:"Geben Sie Ihrer Umfrage einen Titel:  "}),Object(c.jsx)("input",{className:"input",type:"text",name:"umfrageName",onChange:function(e){return r(e.target.value)},value:n})]})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("p",{children:"Skalierung festelegen:"}),Object(c.jsxs)("form",{onSubmit:function(e){O.length>0?(e.preventDefault(),g((function(e){return[].concat(Object(b.a)(e),[O])})),f("")):alert("Text eingeben plz")},children:[Object(c.jsx)("label",{children:"Optionen: "}),Object(c.jsx)("input",{className:"input",type:"text",name:"inputOption",onChange:function(e){return f(e.target.value)},value:O})]})]}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("p",{children:"Fragen erstellen:"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.length>0?(y((function(e){return[].concat(Object(b.a)(e),[j])})),l("")):alert("Text eingeben plz")},children:[Object(c.jsx)("label",{children:"Geben Sie Ihre Items ein: "}),Object(c.jsx)("input",{className:"input",type:"text",name:"inputFrage",onChange:function(e){return l(e.target.value)},value:j})]})]})]}),Object(c.jsxs)("div",{className:"grid-item",children:[Object(c.jsx)("h2",{children:"Vorschau"}),Object(c.jsx)("h1",{children:n}),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("table",{children:Object(c.jsxs)("tbody",{children:[(S.length>0||p.length>0)&&Object(c.jsx)(I,{}),S.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[S.indexOf(e)+1,". ",e]}),p.map((function(e){return Object(c.jsx)("td",{className:"ankreuzen",children:"\u274d"},p.indexOf(e)+7500)}))]},S.indexOf(e))}))]})})})]})]})]}),Object(c.jsx)("button",{className:"submitbutton",onClick:function(e){e.preventDefault(),function(){for(var e=S.length,t=p.length,n=0;n<e;n++)C(F[n]=Array(t).fill(0))}();var t={name:n,fragen:S,optionen:p,ergebnisse:[F]};h.a.post("http://localhost:4000/umfrage/create",t).then((function(e){console.log(e.data),y([]),g([])}))},children:"erstellen"})]})},f=n(25),x=n.n(f),m=n(43),p=n(173),g=n(174),v=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),j=Object(o.a)(s,2),l=j[0],u=j[1];return Object(a.useEffect)((function(){(function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:4000/umfrage/list");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),Object(c.jsx)(a.Fragment,{children:Object(c.jsxs)("div",{className:"center",children:[Object(c.jsx)("h1",{children:"Ihre Umfragen"}),Object(c.jsx)("table",{children:Object(c.jsx)("tbody",{children:n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(i.b,{className:"navButton",to:"/umfrage/list/"+e._id,children:e.name})}),Object(c.jsx)("td",{children:Object(c.jsx)(i.b,{className:"navButton",to:"/ergebnisse/"+e._id,children:"Ergebnisse"})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(t){return function(e){h.a.get("http://localhost:4000/umfrage/delete/"+e).catch((function(e){return console.log(e)}));var t=n.filter((function(e){return e.umfragen!==n}));r(t),u(l+1)}(e._id)},className:"trash",children:Object(c.jsx)(p.a,{icon:g.a})})})]},n.indexOf(e))}))})})]})})},N=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)([]),i=Object(o.a)(s,2),l=i[0],u=i[1],b=Object(j.f)(),d=function(){var e="/umfragen/fire/"+O;b.push(e)},O=Object(j.g)().id;return Object(a.useEffect)((function(){(function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:4000/umfrage/list/"+O);case 2:t=e.sent,r(t.data.fragen),u(t.data.optionen);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.jsxs)(a.Fragment,{children:[Object(c.jsxs)("div",{className:"center",children:[Object(c.jsx)("h3",{children:"\xfcberpr\xfcfen Sie Ihren Umfragebogen"}),Object(c.jsx)("h1",{children:n.name}),Object(c.jsx)("p",{children:n._id}),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("table",{children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Fragen"}),l.map((function(e){return Object(c.jsx)("th",{children:e},l.indexOf(e))}))]}),n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e}),l.map((function(e){return Object(c.jsx)("td",{className:"ankreuzen",children:"\u274d"},l.indexOf(e)+7500)}))]},n.indexOf(e))}))]})})})]}),Object(c.jsx)("button",{onClick:function(e){d()},className:"submitbutton",children:"Umfrage ver\xf6ffentlichen"})]})},S=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)([]),i=Object(o.a)(s,2),l=i[0],u=i[1],b=Object(a.useState)(""),d=Object(o.a)(b,2),O=d[0],f=d[1],p=Object(a.useState)([]),g=Object(o.a)(p,2),v=g[0],N=g[1],S=Object(j.g)().id,y=Object(j.f)();function k(e){e.preventDefault();var t=v;h.a.post("http://localhost:4000/umfrage/fire/"+S,t).then(void y.push("/umfragen/list/"))}Object(a.useEffect)((function(){(function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:4000/umfrage/list/"+S);case 2:t=e.sent,r(t.data.fragen),u(t.data.optionen),f(t.data.name),N(t.data.ergebnisse[0]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsxs)("div",{className:"center",children:[Object(c.jsx)("h3",{children:"bitte f\xfcllen Sie den Fragebogen aus und senden Sie ihn danach ab"}),Object(c.jsx)("h1",{children:O}),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("table",{children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Fragen"}),l.map((function(e,t){return Object(c.jsx)("th",{children:e},t)}))]}),n.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e}),l.map((function(e,n){return Object(c.jsx)("td",{className:"ankreuzen",children:Object(c.jsx)("input",{type:"radio",name:t,id:e,onChange:function(e){return function(e,t){for(var n=l.length,c=0;c<n;c++)v[e][c]=0;v[e][t]=0===v[e][t]?1:0}(t,n)}})},n)}))]},t)}))]})})})]}),Object(c.jsx)("button",{onClick:function(e){return k(e)},className:"submitbutton",children:"absenden"})]})},y=n(360),k=n(192),w=n(188),F=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(a.useState)([]),O=Object(o.a)(d,2),f=O[0],p=O[1],g=Object(a.useState)([]),v=Object(o.a)(g,2),N=v[0],S=v[1],F=Object(a.useState)(!0),C=Object(o.a)(F,2),I=C[0],B=C[1],E=Object(a.useState)([]),U=Object(o.a)(E,2),z=U[0],D=U[1],A=Object(j.g)().id;Object(a.useEffect)((function(){(function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:4000/umfrage/list/"+A);case 2:t=e.sent,r(t.data.ergebnisse),u(t.data.name),p(t.data.optionen),S(t.data.fragen),B(!1),n.splice(0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var _=["#003f5c","#2f4b7c","#665191","#a05195","#d45087","#f95d6a","#ff7c43","#ffa600"],M=Math.PI/180;return Object(c.jsxs)(a.Fragment,{children:[I&&Object(c.jsx)("p",{className:"centered",children:"loading"}),Object(c.jsx)("div",{className:"center",children:Object(c.jsxs)("div",{className:"grid",children:[Object(c.jsx)("div",{className:"grid-item",children:!I&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:l}),N.map((function(e,t){return Object(c.jsx)("p",{children:Object(c.jsx)("button",{onClick:function(e){return function(e){for(var t=[],c=[],a=0,r=[],s=f.length,i=n.length,j=0;j<i;j++)t=[].concat(Object(b.a)(t),[n[j][e]]);for(var l=0;l<s;l++){for(var u=0;u<i;u++)a+=t[u][l];c=[].concat(Object(b.a)(c),[a]),a=0}for(var o=0;o<s;o++)r[o]={name:"".concat(N[o]),value:c[o]};D(r)}(t)},children:"".concat(N[t])})},e)}))]})}),Object(c.jsx)("div",{className:"grid-item",children:Object(c.jsx)(y.a,{width:400,height:400,children:Object(c.jsx)(k.a,{data:z,cx:"50%",cy:"50%",labelLine:!1,label:function(e){var t=e.cx,n=e.cy,a=e.midAngle,r=e.innerRadius,s=e.outerRadius,i=e.index,j=25+r+(s-r),l=t+j*Math.cos(-a*M),u=n+j*Math.sin(-a*M);return Object(c.jsxs)("text",{x:l,y:u,fill:"#34088e",textAnchor:l>t?"start":"end",dominantBaseline:"central",children:[f[i]," (",z[i].value,")"]})},outerRadius:100,fill:"#8884d8",dataKey:"value",children:z.map((function(e,t){return Object(c.jsx)(w.a,{fill:_[t%_.length]},"cell-".concat(t))}))})})})]})})]})},C=function(){return Object(c.jsxs)(i.a,{children:[Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("nav",{children:[Object(c.jsx)(i.b,{to:"/",className:"navButton",children:"Home"}),Object(c.jsx)(i.b,{to:"/umfrage/erstellen",className:"navButton",children:"neue Umfrage erstellen"}),Object(c.jsx)(i.b,{to:"/umfragen/list",className:"navButton",children:"Ihre Umfragen"})]}),Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",component:l}),Object(c.jsx)(j.a,{exact:!0,path:"/umfrage/erstellen",component:O}),Object(c.jsx)(j.a,{exact:!0,path:"/umfrage/list/:id",component:N}),Object(c.jsx)(j.a,{exact:!0,path:"/umfragen/list",component:v}),Object(c.jsx)(j.a,{path:"/umfragen/fire/:id",component:S}),Object(c.jsx)(j.a,{exact:!0,path:"/ergebnisse/:id",component:F})]})]}),Object(c.jsx)(u,{})]})};s.a.render(Object(c.jsx)(i.a,{children:Object(c.jsx)(C,{})}),document.getElementById("root"))}},[[354,1,2]]]);
//# sourceMappingURL=main.ba95a948.chunk.js.map